<h1 align="center">
Unit Test
</h1>

<h2 align="center">
  <strong>3.0 Introduction to Testing in Nest </strong><br>
</h2>

_package.json_

- 테스팅관련 5가지

```
"test": "jest",
"test:watch": "jest --watch",
"test:cov": "jest --coverage",
"test:debug": "node --inspect-brk -r tsconfig-paths/register -r ts-node/register node_modules/.bin/jest --runInBand",
"test:e2e": "jest --config ./test/jest-e2e.json"
```

- jest
  자바스크립트를 쉽게 테스팅하는 npm패키지<br>
  .spec.ts => 테스팅 파일

  > 즉, jest가 .spec.ts파일들을 찾아볼 수 있도록 설정되어 있음

- cov 사용

```
npm run test:cov

```

=> 코드가 얼마나 테스팅 됬는지 혹은 안됬는지 알려줌<br>
=> spec파일을 찾아서 몇줄이 테스팅 되었는지 알려줌

- watch mode 에서 테스팅

```
npm run test:watch
```

=> 모든 테스트 파일을 찾아서 무슨일이 일어나는지 관찰

- 유닛테스트
  모든 function을 따로 테스트 함

1. 유닛테스팅 ) 서비스에서 분리된 유닛을 테스트 함

   > ex) MoviesService테스트 하고 싶어요<br>
   > => getAll, getOne, deleteOne, create, update function을 테스팅

2. e2e 테스트 ) end-to-end) 모든 시스템 테스팅 ) 특정 페이지가 나와야하는 경우 사용

   > 즉 e2e테스트의 경우 사용자관점!<br>
   > ex) 사용자가 특정 링크를 클릭하면 이 링크를 볼 수 있어야 하는것을 테스트함

<h2 align="center">
  <strong>3.1  First Unit Test</strong><br>
</h2>

- jest라이브러리 사용
  => 자바스크립트 프레임워크<br>
  => Typescript, Node, React등 모두 테스트 가능

_movies.service.spec.ts_

- describe ) 테스트 묘사<br>
- beforeEach ) 테스트 하기 전 실행<br>
- it ) individual test(개별테스트)

```typescript
it("should be 4", () => {
  expect(2 + 2).toEqual(4);
});
```

=> <strong>PASS</strong><br>
=> 테스트하고 싶어하는 부분을 테스트하는 function을 만듦<br>
=> 테스트의 경우 조건이 필요

> expect사용

=> 2+2가 4와 같기(to Equal)를 기대(expect)하고 있어요.

- test watch로 실행
  => 새로운 테스트 만들 때마다 테스트 실행됨

```typescript
it("should be 4", () => {
  expect(2 + 2).toEqual(5);
});
```

=> <strong>ERROR</strong>
